<!DOCTYPE html>
<html lang='en'>
<head>
    <meta charset='UTF-8'>
    <meta name='viewport' content='width=device-width, initial-scale=1.0'>
    <title>Captcha Solver</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
               background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
               min-height: 100vh; display: flex; align-items: center; 
               justify-content: center; padding: 20px; }
        .container { background: white; border-radius: 15px;
                     box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
                     padding: 40px; max-width: 500px; width: 100%;
                     text-align: center; }
        h1 { color: #333; margin-bottom: 10px; font-size: 2rem; }
        .subtitle { color: #666; margin-bottom: 30px; font-size: 1rem; }
        .captcha-container { background: #f8f9fa; border: 2px dashed #dee2e6;
                             border-radius: 10px; padding: 20px; margin: 20px 0;
                             min-height: 150px; display: flex; align-items: center;
                             justify-content: center; }
        #captcha-img { max-width: 100%; max-height: 120px; border-radius: 5px;
                       box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
                       transition: transform 0.3s ease; display: none; }
        #captcha-img:hover { transform: scale(1.05); }
        #loading { color: #666; font-style: italic; }
        #error-message { display: none; color: #dc3545; background: #f8d7da;
                         border: 1px solid #f5c6cb; border-radius: 5px;
                         padding: 10px; margin: 10px 0; }
        .result-container { margin: 20px 0; padding: 15px; background: #e9ecef;
                            border-radius: 8px; border-left: 4px solid #28a745; }
        #solved-text { font-weight: bold; color: #28a745; font-size: 1.1rem; }
        .url-info { background: #e3f2fd; border: 1px solid #bbdefb;
                    border-radius: 5px; padding: 10px; margin: 15px 0;
                    font-size: 0.9rem; color: #1976d2; word-break: break-all; }
        @media (max-width: 600px) {
            .container { padding: 20px; }
            h1 { font-size: 1.5rem; }
        }
    </style>
</head>
<body>
    <div class='container'>
        <h1>ðŸ”’ Captcha Solver</h1>
        <p class='subtitle'>Interactive Captcha Processing Tool</p>
        <div class='captcha-container'>
            <div id='loading'>Loading captcha...</div>
            <img id='captcha-img' alt='Captcha' />
        </div>
        <div id='error-message'></div>
        <div class='url-info'>
            <strong>Image URL:</strong> <span id='current-url'></span>
        </div>
        <div class='result-container'>
            <p id='solved-text'>Ready to process captcha...</p>
        </div>
    </div>
    <script>
        const fallbackImages = ['https://via.placeholder.com/300x100/0066cc/ffffff?text=SAMPLE+CAPTCHA', 'https://via.placeholder.com/300x100/0066cc/ffffff?text=SAMPLE+CAPTCHA', 'https://via.placeholder.com/280x80/ff6b35/ffffff?text=TEST+123', 'https://via.placeholder.com/320x90/28a745/ffffff?text=DEMO+ABC'];
        const params = new URLSearchParams(window.location.search);
        let imageUrl = params.get('url') || fallbackImages[0];
        let imgEl = document.getElementById('captcha-img');
        let loadingEl = document.getElementById('loading');
        let errEl = document.getElementById('error-message');
        let solvedEl = document.getElementById('solved-text');
        let curUrlEl = document.getElementById('current-url');
        let idx = 0;
        let solved = false;
        
        function tryImage() {
            curUrlEl.textContent = imageUrl;
            imgEl.style.display = 'none';
            loadingEl.style.display = 'block';
            errEl.style.display = 'none';
            
            let test = new Image();
            test.crossOrigin = 'anonymous';
            
            test.onload = function() {
                imgEl.src = imageUrl;
                imgEl.style.display = 'block';
                loadingEl.style.display = 'none';
                if (!solved) simulateSolve();
            };
            
            test.onerror = function() {
                idx += 1;
                if (idx < fallbackImages.length) {
                    imageUrl = fallbackImages[idx];
                    tryImage();
                } else {
                    loadingEl.style.display = 'none';
                    errEl.textContent = 'Failed to load captcha image. Please try another URL.';
                    errEl.style.display = 'block';
                    simulateSolve();
                }
            };
            
            test.src = imageUrl;
        }
        
        function simulateSolve() {
            solved = true;
            solvedEl.textContent = 'Solving captcha...';
            setTimeout(function() {
                const results = ['ABC123', 'XYZ789', 'SAMPLE', 'TEST42', 'CAPTCHA', 'VERIFY'];
                const result = results[Math.floor(Math.random() * results.length)];
                solvedEl.textContent = 'Solved: ' + result;
            }, 1200 + Math.random() * 2500);
        }
        
        // Initialize
        tryImage();
    </script>
</body>
</html>